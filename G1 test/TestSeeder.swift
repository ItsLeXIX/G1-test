//
//  TestSeeder.swift
//  G1 test
//
//  Created by Parsa Jalali on 04.08.25.
//

import Foundation
import CoreData

struct TestSeeder {
    /// Backward compatible entrypoint
    static func seed(context: NSManagedObjectContext) {
        seedIfNeeded(context: context)
    }

    /// Idempotent seeder: inserts questions 1...20 only if they are missing
    static func seedIfNeeded(context: NSManagedObjectContext) {
        func exists(id: Int) -> Bool {
            let r: NSFetchRequest<Question> = Question.fetchRequest()
            r.predicate = NSPredicate(format: "id == %d", id)
            return ((try? context.count(for: r)) ?? 0) > 0
        }

        func add(_ id: Int,
                 _ text: String,
                 _ a: String, _ b: String, _ c: String, _ d: String,
                 _ correct: String,
                 _ category: String) {
            // Upsert: update if exists, insert if missing
            let req: NSFetchRequest<Question> = Question.fetchRequest()
            req.fetchLimit = 1
            req.predicate = NSPredicate(format: "id == %d", id)
            let existing = try? context.fetch(req).first

            let q: Question
            if let found = existing {
                q = found
            } else {
                q = Question(context: context)
                q.id = Int32(id)
            }
            
            // Map images to both English and Persian question IDs
            // English IDs 1... → imageName "1", "2", ...
            // Persian IDs 100... → imageName "1", "2", ...
            let imageNameString: String = {
                if id >= 101 {
                    return "\(id - 100)"     // 101→1, 102→2, ...
                } else if id > 0 {
                    return "\(id)"           // English: 1→1, 2→2, ...
                } else {
                    return ""                // no image
                }
            }()
            
            q.question = text
            q.optionA = a
            q.optionB = b
            q.optionC = c
            q.optionD = d
            q.correctOption = correct
            q.category = category
            q.imageName = imageNameString
            q.userChoice = ""
        }

        // IDs 1...20 (10 Signs, 10 Rules)
        add(1,  "What does a red traffic light mean?", "Stop", "Go", "Yield", "Speed up", "A", "Rules of the Road")
        add(2,  "When should you yield at an intersection?", "When you see a stop sign", "When entering from a side road", "Only if there are pedestrians", "Never", "B", "Rules of the Road")
        add(3,  "What shape is a STOP sign?", "Octagon", "Triangle", "Circle", "Rectangle", "A", "Signs")
        add(4,  "At a four‑way stop, who has the right‑of‑way?", "The largest vehicle", "The vehicle that stops first", "The vehicle on the left", "Whoever flashes headlights", "B", "Rules of the Road")
        add(5,  "A YIELD sign means you must…", "Slow down and give right‑of‑way", "Stop completely every time", "Speed up to merge first", "Ignore if no police are present", "A", "Signs")
        add(6,  "What is the minimum safe following distance in good conditions?", "Two‑second rule", "Half a car length", "One second", "Five car lengths", "A", "Rules of the Road")
        add(7,  "This sign warns of a train crossing ahead. What should you do?", "Speed up to beat the train", "Look, listen, and be prepared to stop", "Turn around immediately", "Park on the tracks briefly", "B", "Signs")
        add(8,  "What must you do when a school bus has flashing red lights?", "Pass carefully on the left", "Slow down and proceed", "Stop from both directions until the lights stop", "Honk and continue", "C", "Rules of the Road")
        add(9,  "‘Divided highway begins’ means…", "A median will separate directions ahead", "Road narrows to one lane", "Two‑way traffic ends", "One‑way street begins", "A", "Signs")
        add(10, "A solid yellow line on your side of the road means…", "No passing", "Passing allowed", "Bus lane", "Bike lane", "A", "Rules of the Road")
        add(11, "This sign means the road may be slippery when wet. What should you do?", "Brake hard", "Slow down and avoid sudden moves", "Turn off headlights", "Speed up to dry the tires", "B", "Signs")
        add(12, "When must you use headlights?", "Only on highways", "Only in rain", "Only outside cities", "From sunset to sunrise or when visibility is poor", "D", "Rules of the Road")
        add(13, "Two‑way traffic ahead sign warns you to…", "Expect traffic only in your lane", "Expect oncoming traffic", "Road closed ahead", "Freeway begins", "B", "Signs")
        add(14, "When an emergency vehicle approaches with lights and siren, you must…", "Maintain speed", "Stop in your lane", "Pull to the right and stop", "Speed up to clear the way", "C", "Rules of the Road")
        add(15, "No‑passing zone (pennant) means…", "Bus lane ahead", "Passing allowed for trucks", "Do not pass in this area", "Keep right of island", "C", "Signs")
        add(16, "What should you do if you start to hydroplane?", "Brake hard and steer sharply", "Accelerate to regain traction", "Ease off the accelerator and steer gently", "Turn off traction control", "C", "Rules of the Road")
        add(17, "Merge sign indicates you should…", "Stop and wait", "Adjust speed and merge when safe", "Make a U‑turn", "Drive on the shoulder", "B", "Signs")
        add(18, "What is the legal blood‑alcohol limit for G1 drivers?", "0.05", "0.00 (zero tolerance)", "0.03", "0.08", "B", "Rules of the Road")
        add(19, "Pedestrian crossing sign means…", "No pedestrians allowed", "Playground ahead", "Pedestrian crossing ahead—be prepared to stop", "School bus stop only", "C", "Signs")
        add(20, "A flashing amber (yellow) traffic light means…", "Stop and wait for green", "Stop, then proceed when safe", "Speed up to clear the intersection", "Proceed with caution", "D", "Rules of the Road")

        // --- Reset Persian ranges: delete any existing 101...120 to avoid stale data ---
        do {
            let fetch: NSFetchRequest<Question> = Question.fetchRequest()
            fetch.predicate = NSPredicate(format: "id >= %d AND id <= %d", 101, 120)
            let old = try context.fetch(fetch)
            for obj in old { context.delete(obj) }
            if context.hasChanges { try context.save() }
        } catch {
            print("Warning: could not delete old Persian questions (101...120): \(error)")
        }

        // --- Reset Persian Test 2: delete any existing 121...140 to avoid stale data ---
        do {
            let fetch2: NSFetchRequest<Question> = Question.fetchRequest()
            fetch2.predicate = NSPredicate(format: "id >= %d AND id <= %d", 121, 140)
            let old2 = try context.fetch(fetch2)
            for obj in old2 { context.delete(obj) }
            if context.hasChanges { try context.save() }
        } catch {
            print("Warning: could not delete old Persian questions (121...140): \(error)")
        }
        
        // --- Reset Persian Test 3: delete any existing 141...160 to avoid stale data ---
        do {
            let fetch3: NSFetchRequest<Question> = Question.fetchRequest()
            fetch3.predicate = NSPredicate(format: "id >= %d AND id <= %d", 141, 160)
            let old3 = try context.fetch(fetch3)
            for obj in old3 { context.delete(obj) }
            if context.hasChanges { try context.save() }
        } catch {
            print("Warning: could not delete old Persian questions (141...160): \(error)")
        }
        
        // --- Reset Persian Test 4: delete any existing 161...180 to avoid stale data ---
        do {
            let fetch4: NSFetchRequest<Question> = Question.fetchRequest()
            fetch4.predicate = NSPredicate(format: "id >= %d AND id <= %d", 161, 180)
            let old4 = try context.fetch(fetch4)
            for obj in old4 { context.delete(obj) }
            if context.hasChanges { try context.save() }
        } catch {
            print("Warning: could not delete old Persian questions (161...180): \(error)")
        }
        

        
        // Persian Test 1 — IDs 100...119 (Signs)
        add(101, "اين علامت ساختمانى به چه معناست؟",
            "خیابان سنگفرش شده يا شياردار است",
            "عمليات راهدارى در پيش است.", "تابلوى ساخت و ساز جایگزین پرچمدار در حال انجام وظيفه.",
            "علامت ساخت و ساز براى كاهش سرعت و اطاعت از جهت پرچم.", "B", "علائم")

        add(102, "اين تابلوى راه به چه معناست؟",
            "شما بايد به چپ بپیچید.", "بايد به راست بپیچید",
            "شما بايد مستقيم برويد.", "همه چرخش ها مجاز است.", "B", "علائم")

        add(103, "اين تابلوى راه پشت خودرو به چه معناست؟",
            "خودرویی با سرعت كم", "تابلوى ايست در پيش رو",
            "وسيله نقليه دارای حمل مواد خطرناك", "حق تقدم را بدهيد", "A", "علائم")

        add(104, "اين تابلوى راه به چه معناست?",
            "هتل", "مسابقه اسب دوانى", "تپه ها", "بيمارستان", "D", "علائم")

        add(105, "اين تابلوى راه به چه معناست؟",
            "هیچ چیز مجاز نيست", "دور برگردان مجاز است",
            "گردش به چپ ممنوع", "دور زدن ممنوع است", "D", "علائم")

        add(106, "اين تابلوى راه به چه معناست؟",
            "هواپيما وجود دارد.", "فرود هواپیما", "مسير به يك فرودگاه.", "نمايش هوايي در پيش است.", "C", "علائم")

        add(107, "اين تابلوى راه به چه معناست؟",
            "پارک کردن به سمت راست", "اين جاده كمى به سمت راست در جلو مى چرخد.",
            "اين جاده جلوتر به طور تند به سمت راست مى چرخد", "ترافيك بايد از راست خارج شود.", "C", "علائم")

        add(108, "اين تابلوى راه به چه معناست؟",
            " گردش به چب ممنوع.", "مستقيم رفتن مجاز نيست.",
            "مستقيم رفتن مجاز است.", "گردش به راست مجاز نيست.", "B", "علائم")

        add(109, "اين تابلوى راه به چه معناست؟",
            "اب روى جاده است", "سطح جاده ناهموار يا پر از دست انداز در پيش رو",
            "جاده باريك در پيش رو", "پل در پيش رو بالا می‌رود تا اجازه عبور قايقها رابدهد", "D", "علائم")

        add(110, "اين تابلوى راه به چه معناست؟",
            "شما بايد حق تقدم را بدهيد.", "شما حق تقدم داريد.",
            "در جلو منطقه مدرسه است.", "در جلو يك تقاطع راه آهن قرار دارد.", "A", "علائم")

        add(111, "اين علامت نشان مى دهد",
            "يك وضعيت موقت", "يك ممنوعيت", "اخطار", "اطلاعات و جهت", "B", "علائم")

        add(112, "اين تابلوى راه به چه معناست؟",
            "فقط پاركينك ماشين برفى (اسنوموبيل)", "ماشين هاى برفى (اسنوموبيل) مى توانند از اين جاده استفاده كنند",
            "عبور ماشين برفى (اسنوموبيل) از اين جاده ممنوع است", "تعميرگاه ماشين برفى (اسنوموبيل) در پيش است.", "B", "علائم")

        add(113, "اين علامت به چه معناست؟",
            "فاصله مشخصى را حفظ كنيد", "در جلو عمليات ساختمانى در حال انجام است",
            "راه جلوتر بسته است! در ترافيك ادغام شويد", "علائم مسير انحرافى را دنبال كنيد تا به مسير اصلى بازگردید", "D", "علائم")

        add(114, "اين تابلوى راه به چه معناست؟",
            "چراغ راهنمای ترافيكى در پيش رو.", "تقاطع راه آهن جلوتر.",
            "تابلو ايست در پيش رو.", "دست انداز در پيش رو.", "A", "علائم")

        add(115, "اين تابلوى راه به چه معناست؟",
            "روشن گذاشتن موتور خودرو در حالت ساکن برای بیش از ۳ دقیقه ممنوع است.", "توقف بيش از 3 دقيقه غیر مجاز است",
            "بيش از 3 دقيقه سیگار نكشيد", "پارک کردن خودرو در این محدوده به مدت ۳ دقیقه مجاز است.", "A", "علائم")

        add(116, "اين تابلوى راه به چه معناست؟",
            "مراقب عابران پياده باشيد", "سرعت خود را كم نكنيد.",
            "تقاطع را مسدود نكنيد.", "در تقاطع سرعت خود را افزايش دهيد.", "C", "علائم")

        add(117, "اين تابلوى راه به چه معناست؟",
            "سبقت گرفتن ممنوع", "پارك ممنوع", "ورود سواری ممنوع", "توقف نکنید", "A", "علائم")

        add(118, "اين تابلوى راه به چه معناست؟",
            "گردش به راست مجاز نيست.", "گردش به چپ مجاز نيست.",
            "يك جاده فرعى پنهان در جلو وجود دارد.", "دور برگردان مجاز نيست.", "C", "علائم")

        add(119, "اين تابلوى راه به چه معناست؟",
            "پارک ممنوع", "توقف ممنوع", "ورود دوچرخه به اين جاده ممنوع است.", "دوچرخه ها در اين جاده مجاز هستند.", "C", "علائم")

        add(120, "اين تابلوى راه به چه معناست؟",
            "اجازه پارك در هر زمانى وجود ندارد.", "شما نمى توانيد در زمان هاى اعلام شده بين تابلوها پارك كنيد.",
            "شما مى توانيد در منطقه مشخص شده در زمان هاى اعلام شده پارك كنيد.", "فقط پارک کردن در آخر هفته ممنوع نيست.", "C", "علائم")

        // --- Persian Test 2: Rules (IDs 120...139) ---
        add(121, "اگر راننده‌اى به دليل بى‌احتياطى رانندگى محكوم شود، شش امتياز منفى دريافت مى‌كند و مى‌تواند با چه چيزى مواجه شود؟",
            "همه موارد فوق", "جريمه تا 2000 دلار", "حبس تا شش ماه", "تعليق مجوز تا دوسال", "A", "قوانین رانندگی")

        add(122, "هنگام رانندگى در يك خيابان دوطرفه صداى آژير وسيله نقليه اضطرارى را مى‌شنويد، قانون شما را ملزم به چه كارى مى‌كند؟",
            "سرعت بگيريد و از مسير خارج شويد", "به راننده علامت بدهيد كه عبور كند",
            "تا جايى كه امكان دارد به راست بكشيد و متوقف شويد", "با همان سرعت ادامه دهيد", "C", "قوانین رانندگی")

        add(123, "هنگام رانندگى اگر تماسى دريافت كنيد و كسى نيست كه پاسخ دهد، چه كارى بايد بكنيد؟",
            "قبل از استفاده از تلفن كنار بكشيد و پارك كنيد", "به تلفن پاسخ دهيد و سريع قطع كنيد",
            "فوراً تلفن را پاسخ دهيد", "پيامك بدهيد كه در حال رانندگى هستيد", "A", "قوانین رانندگی")

        add(124, "چراغ سبز چشمك‌زن در تقاطع يعنى…",
            "مى‌توانيد به راست بپيچيد", "مى‌توانيد مستقيم برويد", "همه موارد فوق", "مى‌توانيد به چپ بپيچيد", "C", "قوانین رانندگی")

        add(125, "در چه شرايطى مى‌توان گواهينامه رانندگى را باطل كرد؟",
            "هريك از شرايط فوق", "دستكارى يا جعل گواهينامه", "عدم موفقيت در بازآزمون", "عدم حضور در آزمون يا معاينه پزشكى الزامى", "A", "قوانین رانندگی")

        add(126, "محكوميت به فرار از پليس: تعليق گواهينامه تا چه مدت؟",
            "5 سال", "5 هفته", "5 ماه", "3 روز", "A", "قوانین رانندگی")

        add(127, "راننده G2، 19 ساله با بيش از 6 ماه تجربه: بين نيمه‌شب تا 5 صبح چند مسافر ناشناس 19 ساله يا كمتر مى‌تواند حمل كند؟",
            "2", "4", "1", "3", "D", "قوانین رانندگی")

        add(128, "در انتاريو شب‌ها كى بايد نوربالا را كم كنيد؟",
            "وقتى 150 مترى وسيله نقليه ديگر هستيد", "وقتى 400 مترى وسيله نقليه ديگر هستيد",
            "وقتى 60 مترى روبه‌رو يا 150 مترى خودرویى كه دنبال مى‌كنيد هستيد", "وقتى 150 مترى روبه‌رو يا 60 مترى خودرویى كه دنبال مى‌كنيد هستيد", "D", "قوانین رانندگی")

        add(129, "وقتى در ميدان هستيد…",
            "در جهت عقربه‌هاى ساعت برانيد", "مى‌توانيد خط را تغيير دهيد", "مى‌توانيد متوقف شويد", "در خلاف جهت عقربه‌هاى ساعت برانيد", "D", "قوانین رانندگی")

        add(130, "به تقاطعى مى‌رسيد كه چراغ‌ها كار نمى‌كنند. چه بايد كرد؟",
            "حق تقدم را رها نكنيد", "سرعت را كم كنيد و با احتياط ادامه دهيد",
            "مثل چهارراه داراى تابلو توقف رفتار كنيد", "سرعت گرفته و با احتياط ادامه دهيد", "C", "قوانین رانندگی")

        add(131, "چراغ قرمز است و افسر پليس به شما اشاره مى‌كند عبور كنيد. چه مى‌كنيد؟",
            "بايستيد و مطمئن شويد",
            "صبر كنيد تا سبز شود",
            "عبور كنيد",
            "به افسر بگوييد چراغ قرمز است",
            "C", "قوانین رانندگی")

        add(132, "لاستيك شما ناگهان مى‌تركد. چه مى‌كنيد؟",
            "خودرو را خارج از جاده متوقف كنيد", "تمركز را بر هدايت بگذاريد", "تمام موارد بالا", "پا را از روى گاز برداريد", "C", "قوانین رانندگی")

        add(133, "نزديك تقاطع چراغ از سبز به زرد تغيير مى‌كند. چه كنيد؟",
            "سرعت را زياد كنيد و عبور كنيد", "اگر ايمن است توقف كنيد؛ وگرنه با احتياط عبور كنيد",
            "به عابرين هشدار دهيد", "به رانندگان هشدار دهيد", "B", "قوانین رانندگی")

        add(134, "راننده داراى گواهينامه كامل با 15 امتياز منفى: تعليق به مدت…",
            "1 هفته", "2 هفته", "30 روز", "3 ماه", "C", "قوانین رانندگی")

        add(135, "در تصادف داراى مصدوم، بايد حادثه را به چه كسى گزارش كنيد؟",
            "پليس بلافاصله", "وزارت حمل و نقل بلافاصله", "پليس ظرف 48 ساعت", "وزارت حمل و نقل ظرف 48 ساعت", "A", "قوانین رانندگی")

        add(136, "حداقل فاصله هنگام سبقت از دوچرخه‌سوار؟",
            "2 متر", "1.5 متر", "1 متر", "0.5 متر", "C", "قوانین رانندگی")

        add(137, "تغيير آدرس يا نام: تا چه زمانى بايد به وزارت اطلاع دهيد؟",
            "10 روز", "6 روز", "2 هفته", "1 ماه", "B", "قوانین رانندگی")

        add(138, "راننده G1/G2 با الكل يا مواد مخدر: با كدام مجازات‌ها مواجه مى‌شود؟",
            "همه موارد فوق", "تعليق 30 روزه پس از محكوميت", "تعليق فورى 3 روزه", "جريمه 60 تا 500 دلار پس از محكوميت", "A", "قوانین رانندگی")

        add(139, "اتوبوس مدرسه با چراغ قرمز چشمك‌زن و بازوى توقف باز ايستاده است…",
            "بهتر است حداقل 20 متر فاصله بگيريد", "اگر در طرف مقابل هستيد مى‌توانيد ادامه دهيد",
            "بايد حداقل 20 متر فاصله بگيريد", "سرعت را تا 20 كيلومتر كاهش دهيد", "C", "قوانین رانندگی")

        add(140, "به علامت ادغام ترافيك نزديك مى‌شويد. چه مى‌كنيد؟",
            "بوق بزنيد", "سرعت و موقعيت را تنظيم كنيد", "اول اجازه دهيد ماشين‌هاى پشت بروند", "توقف كامل كرده سپس حركت كنيد", "B", "قوانین رانندگی")

        add(141, "اين علامت به چه معناست؟",
            "شما بايد به خط سمت راست حركت كنيد.",
            "شما نبايد در لاين سمت راست رانندگى كنيد.",
            "اگر در لاين سمت راست باقى بمانيد مى توانيد خارج شويد.",
            "اگر در لاين سمت راست باقى مانده ايد بايد خارج شويد.",
            "D", "علائم")
        add(142, "اين تابلوى راه به چه معناست؟",
            "ورودى كاميون جلوتر",
            "منطقه مدرسه جلوتر",
            "ايستگاه مخفى اتوبوس مدرسه جلوتر",
            "تقاطع مخفى پيش رو",
            "C", "علائم")
        add(143, "شما به يك علامت رعایت حق تقدم نزديك مى شويد. چه كارى بايد انجام دهيد؟",
            "بوق خود را به صدا دربیاورید",
            "توقف كنيد، سپس به آرامى وارد ترافيك شويد.",
            "توقف كنيد، سپس سريع وارد ترافيك شويد.",
            "سرعت خود را كم كنيد، در صورت لزوم توقف كنيد، ودر مسير حق تقدم قرار بگيريد.",
            "D", "علائم")
        add(144, "اين علامت به چه معناست؟",
            "تقاطع كنترل نشده",
            "محل عبور عابر پياده",
            "وارد نشويد",
            "گذرگاه راه آهن",
            "D", "علائم")
        add(145, "اين تابلوى راه به چه معناست؟",
            "وارد نشويد.",
            "ايستادن ممنوع است",
            "سبقت ممنوع",
            "پارك نكنيد.",
            "A", "علائم")
        add(146, "اين علامت به چه معناست؟",
            "پل باريك پیش رو است .",
            "جاده در حال ساخت ",
            "بزرگراه تقسيم شده آغاز مى شود.",
            "بزرگراه تقسيم شده به پايان مى رسد.",
            "C", "علائم")
        add(147, "اين تابلوى راه به چه معناست؟",
            "فقط ورود حيوانات خانگى مجاز هستند",
            "ورود عابر پياده ممنوع است",
            "ورود دوچرخه مجاز نيست",
            "ممنوعيت ورود كودكان",
            "B", "علائم")
        add(148, "اين علامت به چه معناست؟",
            "شما نبايد در لاين سمت راست رانندگى كنيد.",
            "اين يك لاین دو طرفه برای گردش به چپ است",
            "بزرگراه جلوتر به پايان مى رسد.",
            "جاده در حال منشعب شدن است",
            "B", "علائم")
        add(149, "اين علامت به چه معناست؟",
            "محل پارك مخصوص معلولين",
            "تيم نقشه بردارى در جلو مشغول به كار است",
            "بيمارستان در پيش رو است ",
            "توقف در هر زمانى ممنوع است ",
            "A", "علائم")
        add(150, "اين تابلوى راه به چه معناست؟",
            "راه پر پيج و خم",
            "هنگام خيس بودن جاده لغزنده است",
            "جاده به چپ و سپس به راست مى پيجد",
            "خروجى خط به سمت راست.",
            "A", "علائم")
        add(151, "اين تابلوى راه به چه معناست؟",
            "ممكن است آب روى جاده جارى شود",
            "وارد جاده نشويد.",
            "منطقه ساخت و ساز در پيش است.",
            "ورودى كاميون جلوتر.",
            "A", "علائم")
        add(152, "اين تابلوى راه به چه معناست؟",
            "مسير كاميون.",
            "علامت منع",
            "مسير دوچرخه سوارى.",
            "علامت مجاز.",
            "D", "علائم")
        add(153, "اين تابلوى راه به چه معناست؟",
            "مى توانيد با چراغ قرمز به سمت راست بپيچيد.",
            "بزرگراه تقسيم شده به پايان مى رسد.",
            "شما نمى توانيد با چراغ سبز به سمت راست بپيچيد.",
            "شما نبايد روى چراغ قرمز به سمت راست بپيچيد.",
            "D", "علائم")
        add(154, "این علامت به چه معناست؟",
            "وجود مانع در جلو و خط شیب دار نشان می‌دهد از کدام سمت عبور کنید",
            "این محل برای توقف و استراحت است.",
            "مسیر در اینجا به بن‌بست می‌رسد.",
            "خط صعودى نشان مى دهد از كدام سمت         سبقت بگيريد.",
            "A", "علائم")
        add(155, "اين علامت به چه معناست؟",
            "در طول زمان ها و روزهاى نوشته شده متوقف نشويد.",
            "در زمان ها و روزهاى نوشته شده وارد نشويد.",
            "فقط انواع خاصى از وسايل نقليه مجاز به تردد در اين خط در زمان ها وروزهاى نوشته شده هستند.",
            "در ساعات و روزهاى نوشته شده فقط دوچرخه مجاز به ورود به اين خط است.",
            "C", "علائم")
        add(156, "اين علامت به چه معناست؟",
            "باید از سمت راست مانع پیش رو عبور کنید.",
            "از سمت راست سایر رانندگان سبقت بگیرید.",
            "جاده پر از پیچ و خم است.",
            "جاده به سمت راست می‌پیچد.",
            "A", "علائم")
        add(157, "اين تابلوى راه به چه معناست؟",
            "مهدكودك در پيش است.",
            "منطقه عبور بچه ها",
            "مراقب افراد داراى معلوليت باشيد.",
            "تقاطع با مدرسه در پيش است",
            "D", "علائم")
        add(158, "اين راننده از سيگنال دستى استفاده مى كند. راننده قصد دارد …",
            "به سمت چب برود ، به سمت چپ بپیچد .",
            "به سمت راست بپيچد .",
            "سرعت خود را زیاد کند ",
            "كاهش سرعت کند يا توقف کند . ",
            "A", "علائم")
        add(159, "اين علامت به چه معناست؟",
            "پارك هاى استانى را نشان مى دهد",
            "املاى صحيح شهرها يا شهرستان ها را نشان مى دهد",
            "كذرگاه راه آهن پیش رو را نشان مى دهد",
            "فاصله شهرها يا شهرستان ها را نشان مى دهد",
            "D", "علائم")
        add(160, "اين تابلوى راه به چه معناست؟",
            "محدوديت سرعت براى مدارس روستایی",
            "حداكثر سرعت 50 كيلومتر در ساعت از اين علامت تا علامت بعدى",
            "انتهاى منطقه 50 كيلومتر بر ساعت",
            "محدوديت سرعت به 50 كيلومتر در ساعت ، جلوتر تغيير می‌كند",
            "D", "علائم")

        add(161, "استفاده از كدام يك از موارد زير هنگام رانندگى ممنوع است؟",
            "لپتاپ",
            "تلفن همراه دستى",
            "همه موارد فوق",
            "پخش كننده ضبط صوت",
            "C", "قوانین رانندگی")
        add(162, "يك افسر پليس مى تواند از صاحب وسيله نقليه ارائه چه مداركى را درخواست کند؟",
            "سند مالكيت وسيله نقليه",
            "گواهينامه رانندگی معتبر",
            "كارت بيمه مسئوليت",
            "همه موارد فوق",
            "D", "قوانین رانندگی")
        add(163, "يك راننده مبتدى كه به رانندگى بی\u{200C}دقت محكوم شده، در سومين تخلف با كداميك از مجازات هاى زير روبرو خواهد شد؟",
            "جريمه، لغو گواهينامه و حذف از سيستم گواهينامه تدريجى",
            "فقط حذف از سيستم گواهينامه تدريجى",
            "جريمه، تعليق گواهينامه و امتياز منفی",
            "فقط لغو گواهینامه",
            "A", "قوانین رانندگی")
        add(164, "اگر به دليل رانندگى با سرعت 50 كيلومتر در ساعت بيشتر از حد مجاز محكوم شويد، باكدام يك از مجازات هاى زير روبرو خواهيد شد؟",
            "حداقل 2000 دلار جريمه",
            "همه موارد فوق",
            "تعليق گواهینامه تا 2 سال يا 6 امتياز منفی",
            "حبس تا 6 ماه",
            "B", "قوانین رانندگی")
        add(165, "اگر در حين رانندگى خسته شويد، بايد …",
            "قهوه بنوش.",
            "موسيقى را بلندتر كنيد",
            "پنجره هاى خود را باز كنيد تا هواى تازه وارد ماشين شود.",
            "توقف كنید و استراحت كنید",
            "D", "قوانین رانندگی")
        add(166, "براى کنترل كردن وسيله نقليه هنگام لغزش خودرو چه بايد كرد؟",
            "ترمزها را به شدت فشار دهيد",
            "مستقيم به جلو هدايت كنيد",
            "درجهت مخالف لغزش هدايت كنيد.",
            "در مسيرى كه مى\u{200C}خواهيد برويد هدايت كنيد",
            "D", "قوانین رانندگی")
        add(167, "آيا رانندگان مسئول اين هستند كه کمربند مسافران خود را ببندند؟",
            "فقط آن مسافرانى كه در صندلى جلو هستند",
            "فقط مسافران كه 16 سال يا بيشتر دارند.",
            "فقط مسافران زير 16 سال.",
            "فقط مسافران بالاى 18 سال.",
            "C", "قوانین رانندگی")
        add(168, "شما به چند برف\u{200C}روب نزديك مى\u{200C}شويد كه يك آزادراه را پاكسازى مى\u{200C}كنند. چه كارى را نبايد انجام دهيد؟",
            "سعى كنيد از بين آنها عبور كنيد",
            "قوانين جاده را رعايت كنيد",
            "فاصله ايمن را حفظ كنيد",
            "منتظر بمانيد تا به ترافيك اجازه عبور ايمن دهند",
            "A", "قوانین رانندگی")
        add(169, "وقتى به يك تقاطع نزديك مى\u{200C}شويد، متوجه مى\u{200C}شويد كه جاده آن سوى تقاطع با ترافيك مسدود شده است. چه كارى بايد انجام دهيد؟",
            "بوق خود را به صدا درآوريد تا به ترافيك پيش رو براى ادامه مسير هشدار دهيد.",
            "توقف كن و دريك كافه استراحت کن",
            "قبل از ورود به تقاطع توقف كنيد و منتظر بمانيد تا ترافيك پيش رو حرکت کند .",
            "تاحد امكان به خودروى جلويى نزديك شويد.",
            "C", "قوانین رانندگی")
        add(170, "عبور از يك وسيله نقليه ديگر در سمت راست …",
            "زمانى مجاز است كه خيابان يا بزرگراه داراى دو يا چند لاين ترافيك در جهتى است كه شما در آن حركت مى\u{200C}كنيد",
            "زمانى مجاز است كه خيابان يا بزرگراه داراى ترافيك باشد.",
            "درهر خيابان يا بزرگراه مجاز است.",
            "مجاز نيست.",
            "A", "قوانین رانندگی")
        add(171, "هنگام عبور از يك دوچرخه\u{200C}سوار، اگر حداقل 1 متر فاصله نگذازيد، اين كار مى\u{200C}تواند منجر به چند امتياز منفی شود؟",
            "6",
            "3",
            "2",
            "8",
            "C", "قوانین رانندگی")
        add(172, "زمانى كه راننده وسيله نقليه ديگرى قصد دارد از سمت چپ شما سبقت بگيرد، چه بايد بكنيد؟",
            "سرعت بگيريد و در وسط جاده رانندگى كنيد.",
            "به سمت چپ حركت كنيد و اجازه ندهيد وسيله نقليه سبقت بگيرد.",
            "به سمت راست حركت كنيد و اجازه دهيد وسيله نقليه سبقت بگيرد.",
            "به راننده علامت بدهيد كه سبقت نگيرد.",
            "C", "قوانین رانندگی")
        add(173, "قانون دو ثانيه براى تعيين چه چيزى استفاده مى\u{200C}شود؟",
            "چقدر سريع مى\u{200C}توانيد به موانع واكنش نشان دهيد",
            "با چه سرعتى در حال حركت هستيد",
            "چقدر سوخت صرفه\u{200C}جويى خواهيد كرد",
            "آيا با فاصله\u{200C}اى امن از ماشين روبرو حركت مى\u{200C}كنيد يا خير",
            "D", "قوانین رانندگی")
        add(174, "شما به يك منطقه ساخت و ساز نزديك مى\u{200C}شويد. چه كارى بايد انجام دهيد؟",
            "بوق خود را به صدا درآوريد تا به كارگران هشدار دهيد.",
            "در صورت لزوم سرعت خود را كاهش دهيد و حق تقدم را بدهيد.",
            "توقف كنيد تا زمانى كه كارگران به شما علامت دهند كه ادامه دهيد،",
            "سرعت خود را افزايش دهيد تا به سرعت از منطقه خارج شويد.",
            "B", "قوانین رانندگی")
        add(175, "مى\u{200C}خواهيد گردش به راست در چراغ قرمزى كه گردش به راست مجاز است انجام دهيد. قبل از ورود و انجام پيچ چه بايد كرد؟",
            "چراغ راهنماى چپ را روشن كنيد، سپس ادامه دهيد.",
            "چراغ راهنماى راست را روشن كنيد، سپس ادامه دهيد.",
            "متوقف شويد. به وسايل نقليه و پياده\u{200C}روها حق تقدم بدهيد. اگر مسير ايمن است، چراغ راهنماى راست را روشن كرده و با احتياط بپيچيد.",
            "سرعت خود را افزايش دهيد، سپس ادامه دهيد.",
            "C", "قوانین رانندگی")
        add(176, "خطوط سفيد شكسته نشان\u{200C}دهنده چيست؟",
            "آنها خطوط ترافيكى را كه در جهت مخالف حركت مى\u{200C}كنند جدا مى\u{200C}كنند.",
            "آنها نشان مى\u{200C}دهند كه عبور از خطوط ممنوع است.",
            "آنها نشان مى\u{200C}دهند كه جاده جلوتر به پايان مى\u{200C}رسد",
            "آنها لاين\u{200C}هاى ترافيكى را كه در يك جهت حركت مى\u{200C}كنند جدا مى\u{200C}كنند",
            "D", "قوانین رانندگی")
        add(177, "در جاده\u{200C}اى با ترافيك دوطرفه، قصد داريد به چپ بپيچيد. در چه موقعيتى بايد باشيد؟",
            "نزديك به سمت راست جاده",
            "نزديك به سمت چپ جاده",
            "در هر موقعيتى؛ فقط سيگنال مهم است.",
            "در سمت راست و تا حد امكان نزديك به خط مركزى جاده",
            "D", "قوانین رانندگی")
        add(178, "اگر به دليل عدم توقف هنگام دستور توقف افسر پليس محكوم شويد، ممكن است با كدام مجازات\u{200C}ها روبرو شويد؟",
            "تا 6 ماه زندان",
            "جريمه تا 25000 دلار",
            "تعليق مجوز به مدت 5 سال",
            "همه موارد فوق",
            "D", "قوانین رانندگی")
        add(179, "بدون انجام چه كارهايى نبايد تغيير لاين داد؟",
            "دادن سيگنال مناسب و سپس اطمينان از ايمنى تغيير خط",
            "بوق زدن و سپس اطمينان از ايمنى",
            "دادن سيگنال به موقع و كاهش سرعت",
            "فقط نگاه به آينه و تغيير لاين",
            "A", "قوانین رانندگی")
        add(180, "اگر براى اتوبوس مدرسه\u{200C}اى كه چراغ قرمز آن چشمك مى\u{200C}زند، توقف نكنيد، براى اولين بار با كدام مجازات روبرو مى\u{200C}شويد؟",
            "جريمه تا 2000 دلار و 6 امتياز منفی",
            "الزام مجدد براى شركت در تست\u{200C}هاى جاده\u{200C}اى",
            "جريمه تا 1000 دلار و 3 امتياز منفی",
            "1 سال حبس",
            "A", "قوانین رانندگی")

        // --- Reset Persian Test 5: delete any existing 181...200 to avoid stale data ---
        do {
            let fetch5: NSFetchRequest<Question> = Question.fetchRequest()
            fetch5.predicate = NSPredicate(format: "id >= %d AND id <= %d", 181, 200)
            let old5 = try context.fetch(fetch5)
            for obj in old5 { context.delete(obj) }
            if context.hasChanges { try context.save() }
        } catch {
            print("Warning: could not delete old Persian questions (181...200): \(error)")
        }

        // --- Persian Test 5: Signs/Rules (IDs 181...200) ---
        add(181, "اين تابلوى راه به چه معناست؟",
            "اين گذركاه عابر پياده است.",
            "حداكثر سرعت 40 كيلومتر در ساعت ، در هر زمان است.",
            "در ساعات مدرسه كه چراغ زرد چشمك مي‌زند ، سرعت مجاز 40 كيلومتر در ساعت است.",
            "اين يك علامت هشدار است.",
            "C", "علائم")

        add(182, "اين تابلوى راه به چه معناست؟",
            "در اين محل به عابران پياده و سرعت خود بيشتر دقت کنید",
            "شما مى توانيد اين علامت را ناديده بگيريد.",
            "وارد نشويد.",
            "اين منطقه داراى جرم و جنايت بالاست.",
            "A", "علائم")

        add(183, "اين تابلوى راه به چه معناست؟",
            "ورودى اتوبوس جلوتر در سمت راست",
            "به سمت راست برانید",
            "ورودى كاميون جلوتر در سمت راست",
            "ايستگاه مخفى اتوبوس مدرسه در مسیر",
            "A", "علائم")

        add(184, "اين تابلوى راه به چه معناست؟",
            "جاده دوطرفه است .",
            "اينجا ايستادن مجاز نيست",
            "تقاطع مخفى پيش رو",
            "جاده وقتی خيس است لغزنده است.",
            "A", "علائم")

        add(185, "اين راننده از سيگنال دستی استفاده مى كند. راننده قصد دارد",
            "سرعت بگیرد",
            "كاهش سرعت يا توقف کند",
            "به سمت راست برود يا بپیچد",
            "به سمت چپ برود يا بپیچد",
            "C", "علائم")

        add(186, "اين تابلوى راه به چه معناست؟",
            "كنترل كننده ترافيك در پيش رو است",
            "كار در جاده ، در پيش رو است",
            "مراقب عابران پياده باشيد",
            "تيم نقشه بردارى در جلو مشغول به كار است",
            "A", "علائم")

        add(187, "اين تابلوى راه به چه معناست؟",
            "سطح سنگفرش شده جلوتر به پايان مى رسد",
            "جاده تقسيم شده جلوتر",
            "مراقب سقوط سنگ ها باشيد",
            "تقاطع را مسدود نكنيد",
            "A", "علائم")

        add(188, "اين علامت راهنمايى و رانندگى نشان مى دهد :",
            "جهت حركت براى هر لاين",
            "شما مى توانيد از هر لاينى به هر جهتى برانيد.",
            "شما نبايد وارد اين منطقه شويد.",
            "شما نمى توانيد در اينجا بپيچيد.",
            "A", "علائم")

        add(189, "اين تابلوى راه به چه معناست؟",
            "زيرگذر جلوتر است",
            "جلوتر پل باريک است",
            "سطح سنگفرش شده جلوتر به پايان مى رسد",
            "جلوتر جاده دوطرفه است",
            "B", "علائم")

        add(190, "اين تابلوى راه به چه معناست؟",
            "در جاده پيش رو يک پيج تند يا انحناى شديد وجود دارد.",
            "در جاده پيش رو يک پيج يا انحناى جزئى وجود دارد",
            "اكر وسايل نقليه سريع ترى در كنار شما هستند، در سمت چب بمانيد.",
            "اين لاین به سمت چب خارج مى شود",
            "B", "علائم")

        add(191, "اين تابلوى راه به چه معناست؟",
            "500 فوت جلوتر سنگفرش وجود ندارد",
            "بررسی وزن ماشین پيش رو",
            "جاده پر دست انداز پيش رو",
            "مسیر شيب دار جلوتر است",
            "D", "علائم")

        add(192, "اين تابلوى راه به چه معناست؟",
            "پل جلوتر",
            "تقاطع راه آهن جلوتر",
            "گذرگاه عابر پياده جلوتر",
            "تقاطع مخفى پيش رو",
            "B", "علائم")

        add(193, "اين تابلوى راه به چه معناست؟",
            "مسیر های انحرافی",
            "پارك های موجود در مسیر",
            "تابلوى جهت برای مسیر های مختلف",
            "تابلوى جهت برای عابر پياده",
            "C", "علائم")

        add(194, "اين تابلوى راه به چه معناست؟",
            "ورود دوچرخه ممنوع",
            "پارك ممنوع",
            "گردش به چپ با حضور دوچرخه ممنوع",
            "گذرگاه دوچرخه در پيش است",
            "D", "علائم")

        add(195, "اين تابلوى راه به چه معناست؟",
            "اكر چراغ هاى راهنمايي چشمك مى زنند، بايد براى اتوبوس مدرسه توقف كنيد.",
            "مى توانيد اين علامت را ناديده بگيريد",
            "اگر اتوبوس مدرسه چشمك مى زند، مى توانيد از كنار اتوبوس مدرسه با احتیاط رد شويد.",
            "اگر يك اتوبوس مدرسه چراغ چشمک می زند، بايد براى اتوبوس مدرسه توقف كنيد.",
            "D", "علائم")

        add(196, "اين تابلوى راه به چه معناست؟",
            "ترافيك به هم مى پيوندد جلوتر.",
            "تقاطع پنهان",
            "جاده جلوتر به دو راهى مى رسد",
            "پيج تند در جلو",
            "C", "علائم")

        add(197, "اين تابلوى راه به چه معناست؟",
            "اين يك بزرگراه با دو خط سريع السير است.",
            "براى استفاده از اين خط بايد دو يا چند مسافر در وسيله نقليه باشند.",
            "دوخط دريكى ادغام مى شوند.",
            "دو خط جلوتر بسته است",
            "B", "علائم")

        add(198, "اين تابلوى راه به چه معناست؟ ",
            "بايد به راست بپيچيد",
            "بايد به چپ بپيچيد",
            "شما نبايد به راست بپيچيد.",
            "شما نبايد به چپ بپيچيد.",
            "D", "علائم")

        add(199, "اين تابلوى راه به چه معناست؟",
            "یک تقاطع مخفى پيش رو است",
            "گردش به چب ممنوع است",
            "ادغام ترافيك پيش رو است",
            "فقط در مسیر مستقیم حرکت کنید",
            "C", "علائم")

        add(200, "اين تابلوى راه به چه معناست؟",
            "آب روى جاده در پيش رو است",
            "ترافيك روبرو در پيش رو است",
            "زيرگذر در پيش رو است",
            "جاده پر دست انداز پيش رو است",
            "C", "علائم")

        // --- Reset Persian Test 6: delete any existing 201...220 to avoid stale data ---
        do {
            let fetch6: NSFetchRequest<Question> = Question.fetchRequest()
            fetch6.predicate = NSPredicate(format: "id >= %d AND id <= %d", 201, 220)
            let old6 = try context.fetch(fetch6)
            for obj in old6 { context.delete(obj) }
            if context.hasChanges { try context.save() }
        } catch {
            print("Warning: could not delete old Persian questions (201...220): \(error)")
        }

        // --- Reset Persian Test 7: delete any existing 221...240 to avoid stale data ---
        do {
            let fetch7: NSFetchRequest<Question> = Question.fetchRequest()
            fetch7.predicate = NSPredicate(format: "id >= %d AND id <= %d", 221, 240)
            let old7 = try context.fetch(fetch7)
            for obj in old7 { context.delete(obj) }
            if context.hasChanges { try context.save() }
        } catch {
            print("Warning: could not delete old Persian questions (221...240): \(error)")
        }

        // --- Persian Test 6: Rules (IDs 201...220) ---
        add(201, "در صورت نبودن تابلو سرعت مجاز ، حداكثر سرعت مجاز در شهرها، شهرک ها و روستاها چقدر است ؟",
            "60 km/h.",
            "50 km/h.",
            "80 km/h.",
            "40 km/h.",
            "B", "قوانین رانندگی")

        add(202, "يک راننده‌ی ، تحت تعلیم سطح يك (كلاس G1) مى تواند تحت نظارت يک راننده‌ی داراى گواهينامه کامل كه حداقل …… تجربه رانندگی دارد، رانندگى كند.",
            "3 سال",
            "2 سال",
            "5 سال",
            "4 سال",
            "A", "قوانین رانندگی")

        add(203, "شما به تقاطعى نزديک مى شويد كه در آن چراغ راهنمایی يا افسر پليس وجود ندارد. يك عابر پياده درخط عابر پياده در كنار خيابان شماست. چه کاری باید انجام دهید ؟",
            "دادن حق تقدم به عابر پياده",
            "سرعت خود راكم كنيد و با احتياط ادامه دهيد.",
            "بوق خود را به صدا درآوريد تا به عابر پياده هشدار دهيد.",
            "سرعت خود را افزايش دهيد و از عابر پياده عبور كنيد.",
            "A", "قوانین رانندگی")

        add(204, "در انتاريو، هنگام رانندگى در شب، در چه فاصله ای از وسیله نقلیه دیگری بايد نور چراغهاى خود راكم كنيد (از نور پايين استفاده كنيد)",
            "60 متر.",
            "150 متر.",
            "125 متر.",
            "90 متر.",
            "A", "قوانین رانندگی")

        add(205, "چه زمانى مى توان در بزرگراه با حداكثر سرعت مجاز رانندگی كرد؟",
            "فقط در روز",
            "فقط زمانى كه انجام اين كار بى خطر باشد",
            "فقط در جاده هاى يک طرفه",
            "هر زمان ممکن است ",
            "B", "قوانین رانندگی")

        add(206, "يك راننده G2 با سن 19 سال يا كمتر كه 6 ماه يا كمتر تجربه رانندگى دارد، می‌تواند  بين نيمه شب تا 5:00 صبح چند مسافر ، نامرتبط باهم که 19 سال يا كمتررا دارند حمل كند ؟",
            "1",
            "2",
            "4",
            "3",
            "A", "قوانین رانندگی")

        add(207, "دريك تقاطع كه چراغ راهنمایی سيگنال سبز را نشان می‌دهد , كدام يك از موارد زير نسبت به بقيه حق تقدم دارد؟",
            "چرخش وسايل نقليه به چب",
            "عبور عابرين پياده با چراغ",
            "عبور عابرين پياده برخلاف چراغ",
            "چرخش وسايل نقليه به راست",
            "B", "قوانین رانندگی")

        add(208, "اگر در مسیر ، خودرویی از عقب به پشت خودروی شما بسیار نزدیک شده ( به شما چسبانده است ) چه كارى بايد انجام دهيد؟",
            "هريك از موارد بالا را انجام دهيد",
            "سعی کنید اگر بی خطر است کنار بکشید تا بگذرد .",
            "زمانى كه ايمن است به خط ديگرى برويد.",
            "سعی کنید فاصله خود را از خودروى جلويى افزايش دهيد.",
            "A", "قوانین رانندگی")

        add(209, "در حين رانندگى، يک راننده سطح دو (كلاس G2) نبايد غلظت الكل خونش بيشتر از اين باشد.",
            "0.08%",
            "صفر",
            "0.05%",
            "0.02%",
            "B", "قوانین رانندگی")

        add(210, "رانندگى سريع تر از برد نور چراغهاى شما در شب خطرناک است زيرا",
            "چون شما نمى توانيد در صورت وجود موانع یا خطر  به موقع در فاصله روشن شده توقف كنید",
            "چراغ هاى نور بالای شما باعث آزار خودرو ها می‌شود ",
            "اين کار مى تواند باترى ماشين را تخليه كند",
            "نشان می‌دهد شما خيلى سريع رانندگى مى كنيد",
            "A", "قوانین رانندگی")

        add(211, "استفاده از تلفن همراه هنگام رانندگی",
            "يک راه خوب براى انجام چندکار هم زمان است ",
            "بهتر است انجام نشود ولی قابل قبول است ",
            "باید اجتناب شود چون خطر برخورد را افزايش مى دهد",
            "بايد اجتناب شود ، اما غيرقانونى نيست ",
            "C", "قوانین رانندگی")

        add(212, "در انتاريو, نمى توانيد  ………. را در کمپر  يا تريلر یا قايقی ،  كه در حال يدک كشيدن آن با خودرو هستيد، حمل كنيد.",
            "مواد قابل اشتعال",
            "سلاح گرم ",
            "انسان",
            "حيوانات خانگی ",
            "C", "قوانین رانندگی")

        add(213, "علامت \"پارک ممنوع\" به معنی",
            "شما مى توانيد به طور موقت توقف كنيد تا مسافران را سوار يا پیاده كنيد، اما نه كالا ",
            "شما مى توانيد به طور موقت براى بارگیری يا تخليه كالا متوقف شويد اما نه مسافران.",
            "شما به هر دليلى نمى توانيد متوقف شويد",
            "مى توانيد براى سوار يا تخليه مسافران يا كالاها به طور موقت توقف كنيد",
            "D", "قوانین رانندگی")

        add(214, "هنگام رانندگى درمه شديد، بايد از چه چراغی استفاده كنیم ؟",
            "چراغ هاى خطر",
            "چراغ هاى جلو نور بالا",
            "چراغ هاى خطر و چراغ هاى نور بالا ",
            "چراغ هاى جلو كم نور",
            "D", "قوانین رانندگی")

        add(215, "كدام يک از وسايل نقليه زير ممكن است داراى چراغ قرمز قابل مشاهده از جلو باشند؟",
            "وسايل نقليه تفريحى",
            "دوچرخه",
            "وسايل نقليه اضطرارى",
            "كاميون ها",
            "C", "قوانین رانندگی")

        add(216, "شما به تقاطعى نزديک مى شويد كه چراغ راهنمايي زرد چشمک زن دارد. چه كارى بايد انجام دهيد؟",
            "با همان سرعت ادامه دهيد",
            "اگر به راست مى پيچيد، توقف كنيد",
            "میتوانید مستقیم بدون کم کردن سرعت بروید ",
            "سرعت خود را كم كنيد و با احتياط ادامه دهيد",
            "D", "قوانین رانندگی")

        add(217, "شما در حال برنامه ريزى براى عبور مستقيم از تقاطع هستيد ، سيگنال چراغ راهنمايى قرمز است چه كارى بايد انجام دهيد؟",
            "توقف كنيد و پس از باز شدن راه ادامه دهيد",
            "سرعت خود راكم كنيد و اگر خودرویی نبود ادامه دهيد",
            "توقف كنيد وفقط زمانى ادامه دهيد كه سيگنال سبز شد و مسیر ایمن شد",
            "توقف كنيد، تسليم عابران پياده شويد و سپس با احتياط ادامه دهيد",
            "C", "قوانین رانندگی")

        add(218, "شما در حال برنامه ريزى براى عبور ازيک موتور سيكلت هستيد. چه كارى بايد انجام دهيد؟",
            "هيچ کاری نباید کرد ",
            "قبل از عبور بوق بزنید تا او را مطلع کنید ",
            "هما نطور كه از يک ماشين رد مى شويد عبور كنيد",
            "قبل از عبور چراغ هاى نور بالای خود را روشن كنيد",
            "C", "قوانین رانندگی")

        add(219, "اگر راننده اى با گواهينامه كامل به دليل استفاده از دستگاه های الكترونيكى دستی در حين رانندگی محكوم شود, براى اولين بار با كدام يک از مجازات هاى زير مواجه خواهد شد؟",
            "جريمه اى تا سقف ۵۰۰ دلار و ٢ امتياز منفى",
            "هيچ كدام از موارد بالا برای بار اول جریمه نمی‌شود ",
            "جریمه ای تا سقف ۲۰۰۰ دلار و ۴ امتیاز منفی ",
            "جريمه اى تا سقف ١٠٠٠ دلار و ٣ امتياز منفى",
            "D", "قوانین رانندگی")

        add(220, "مصرف الكل يا مواد مخدر با آسيب رساندن به كدام يک از موارد زير بر راننده تأثير مى گذارد؟",
            "چشم انداز",
            "همه موارد فوق",
            "تصمیم گیری ",
            "زمان پاسخ",
            "B", "قوانین رانندگی")

        // --- Persian Test 7: Signs (IDs 221...240) ---
        add(221, "اين علامت به چه معناست؟",
            "راه باريك مى‌شود.",
            "راه دوطرفه مى‌شود.",
            "راه يكطرفه مى‌شود.",
            "جاده به سمت چپ می‌پیچد.",
            "A", "علائم")
        add(222, "اين تابلوى راه به چه معناست؟",
            "پایان بزرگراه تقسیم شده.",
            "شروع بزرگراه تقسیم شده.",
            "جاده باریک می‌شود.",
            "جاده به راست می‌پیچد.",
            "B", "علائم")
        add(223, "اين تابلوى راه به چه معناست؟",
            "عبور عابر پیاده ممنوع.",
            "عبور دوچرخه ممنوع.",
            "گذرگاه عابر پیاده در پیش است.",
            "گذرگاه دوچرخه در پیش است.",
            "C", "علائم")
        add(224, "اين تابلوى راه به چه معناست؟",
            "راه در جلو بسته است.",
            "حق تقدم با شماست.",
            "تقاطع راه‌آهن در پیش است.",
            "تابلوی ایست در پیش است.",
            "D", "علائم")
        add(225, "اين تابلوى راه به چه معناست؟",
            "حداکثر سرعت مجاز 60 کیلومتر در ساعت است.",
            "حداقل سرعت مجاز 60 کیلومتر در ساعت است.",
            "محدودیت سرعت به 60 کیلومتر در ساعت تغییر می‌کند.",
            "پایان محدودیت سرعت.",
            "A", "علائم")
        add(226, "اين تابلوى راه به چه معناست؟",
            "پارک کردن مجاز است.",
            "پارک کردن ممنوع است.",
            "توقف ممنوع است.",
            "پارک کردن فقط برای اتوبوس مجاز است.",
            "B", "علائم")
        add(227, "اين تابلوى راه به چه معناست؟",
            "چراغ راهنمایی در پیش است.",
            "تقاطع بدون کنترل در پیش است.",
            "پل متحرک در پیش است.",
            "دوربرگردان مجاز است.",
            "A", "علائم")
        add(228, "اين تابلوى راه به چه معناست؟",
            "گردش به راست مجاز است.",
            "گردش به راست ممنوع است.",
            "گردش به چپ مجاز است.",
            "گردش به چپ ممنوع است.",
            "B", "علائم")
        add(229, "اين تابلوى راه به چه معناست؟",
            "خروجی سمت راست در پیش است.",
            "راه باریک می‌شود.",
            "خروجی سمت چپ در پیش است.",
            "جاده به سمت چپ می‌پیچد.",
            "A", "علائم")
        add(230, "اين تابلوى راه به چه معناست؟",
            "ایستادن مجاز است.",
            "ایستادن ممنوع است.",
            "پارک کردن مجاز است.",
            "پارک کردن فقط برای تاکسی مجاز است.",
            "B", "علائم")
        add(231, "اين تابلوى راه به چه معناست؟",
            "پل متحرک در پیش است.",
            "پل باریک در پیش است.",
            "پل در پیش است.",
            "پل بسته است.",
            "C", "علائم")
        add(232, "اين تابلوى راه به چه معناست؟",
            "جاده به چپ می‌پیچد.",
            "جاده به راست می‌پیچد.",
            "پیچ تند به راست در پیش است.",
            "پیچ تند به چپ در پیش است.",
            "A", "علائم")
        add(233, "اين تابلوى راه به چه معناست؟",
            "سطح جاده ناهموار است.",
            "جاده لغزنده است.",
            "جاده پر از دست انداز است.",
            "آب روی جاده است.",
            "C", "علائم")
        add(234, "اين تابلوى راه به چه معناست؟",
            "راه یکطرفه است.",
            "راه دوطرفه است.",
            "جاده به سمت راست می‌پیچد.",
            "جاده به سمت چپ می‌پیچد.",
            "B", "علائم")
        add(235, "اين تابلوى راه به چه معناست؟",
            "ورود کامیون مجاز است.",
            "ورود کامیون ممنوع است.",
            "ورود اتوبوس ممنوع است.",
            "ورود دوچرخه ممنوع است.",
            "B", "علائم")
        add(236, "اين تابلوى راه به چه معناست؟",
            "ایستگاه اتوبوس در پیش است.",
            "ایستگاه قطار در پیش است.",
            "ایستگاه تاکسی در پیش است.",
            "ایستگاه پلیس در پیش است.",
            "A", "علائم")
        add(237, "اين تابلوى راه به چه معناست؟",
            "حق تقدم با شماست.",
            "حق تقدم با دیگران است.",
            "تابلوی ایست در پیش است.",
            "چراغ راهنمایی در پیش است.",
            "B", "علائم")
        add(238, "اين تابلوى راه به چه معناست؟",
            "جاده به سمت راست می‌پیچد.",
            "جاده به سمت چپ می‌پیچد.",
            "جاده به سمت چپ و سپس راست می‌پیچد.",
            "جاده مستقیم است.",
            "A", "علائم")
        add(239, "اين تابلوى راه به چه معناست؟",
            "پارک کردن فقط برای معلولین مجاز است.",
            "پارک کردن برای همه مجاز است.",
            "پارک کردن برای معلولین ممنوع است.",
            "پارک کردن فقط برای تاکسی مجاز است.",
            "A", "علائم")
        add(240, "اين تابلوى راه به چه معناست؟",
            "عبور حیوانات وحشی در پیش است.",
            "عبور حیوانات خانگی در پیش است.",
            "عبور عابر پیاده در پیش است.",
            "عبور دوچرخه در پیش است.",
            "A", "علائم")

        // --- Reset Persian Test 8: delete any existing 241...260 to avoid stale data ---
        do {
            let fetch8: NSFetchRequest<Question> = Question.fetchRequest()
            fetch8.predicate = NSPredicate(format: "id >= %d AND id <= %d", 241, 260)
            let old8 = try context.fetch(fetch8)
            for obj in old8 { context.delete(obj) }
            if context.hasChanges { try context.save() }
        } catch {
            print("Warning: could not delete old Persian questions (241...260): \(error)")
        }

        // --- Persian Test 8: Rules (IDs 241...260) ---
        add(241, "هروسيله نقليه بايد حداقل چه رقمی را براى بیمه  شخص ثالث انتخاب کند  ؟",
            "$200,000.", "$500,000.", "$1000,000.", "$300,000.",
            "A", "قوانین رانندگی")

        add(242, "به گذرگاه راه آهن نزديك مى شويد. سيگنال هاى عبور هشدار مى دهد كه قطار در حال نزديك شدن است. چه كارى بايد انجام دهيد؟",
            "سرعت خود راكم كنيد و با احتياط ادامه دهيد.",
            "حداقل 5 متر از خط راه آهن توقف كنيد.",
            "حداقل 2 متر از خط راه آهن توقف كنيد.",
            "سرعت خود را افزايش دهيد ودر سريعترين زمان ممكن از مسيرها عبور كنيد.",
            "B", "قوانین رانندگی")

        add(243, "چراغ قرمز با فلش سبز به چه معناست؟",
            "مى توانيد در جهت فلش بچرخيد.",
            "توقف كنيد وسپس مى توانيد در جهت فلش بچرخيد.",
            "بايستيد و منتظر چراغ سبز باشيد. فلش سبز علامتى براى عابران پياده است.",
            "قبل از چرخش در جهت فلش توقف كنيد و منتظر چراغ سبز باشيد.",
            "A", "قوانین رانندگی")

        add(244, "شما در جاده اى خيس رانندگى مى كنيد و بايد سريع توقف كنيد. اگر وسيله نقليه شما ترمز ضد قفل (ABS) ندارد، چه كارى بايد انجام دهيد؟",
            "ترمزها را پمپ كنيد.",
            "فشار ترمز ثابت را اعمال كنيد، اگر چرخ ها قفل شدند كمى رها كنيد و دوباره فشار دهيد.",
            "محكم ترمز كن",
            "احتراق را خاموش كنيد و ترمز دستی را فشار دهيد.",
            "B", "قوانین رانندگی")

        add(245, "شخصی كه گواهينامه رانندگى او در حالت تعليق است, مى تواند",
            "در صورت همراهى راننده داراى گواهينامه رانندگى كنيد.",
            "تحت هيچ شرايطى رانندگى نكنید",
            "رانندگى به سمت محل كار و برگشتن",
            "در مواقع اضطرارى رانندگى كنيد",
            "B", "قوانین رانندگی")

        add(246, "خودروهاى برف روب در جاده هاى عمومى به چراغ هاى چشمك زن چه رنگی مجهز هستند ؟",
            "نارنجى", "رنگ زرد", "آبى", "قرمز",
            "C", "قوانین رانندگی")

        add(247, "كدام يک از موارد زير نشانه رانندگى تهاجمى است؟",
            "بررسی هاى مكرر اطراف",
            "همه موارد فوق ",
            "اجتناب از تماس چشمى",
            "جلوگيرى از عبور ساير رانندگان",
            "D", "قوانین رانندگی")

        add(248, "كدام يک از عبارات زير در مورد دوچرخه سواران نادرست است؟",
            "قبل از عبور از يک دوچرخه سوار، در صورت امكان مسير را تغيير دهيد.",
            "هنگام عبور از دوچرخه سوار بايد حداقل يک متر فاصله بگذاريد.",
            "پشت دوچرخه سواران را خيلى دنبال نكنيد.",
            "دوچرخه سواران از استفاده از لاين سمت چپ براى گردش به چپ منع هستند .",
            "D", "قوانین رانندگی")

        add(249, "براى خارج شدن از پارک ، شما بايد",
            "راهنمای خود را بزنيد واز كنار جدول حركت كنيد.",
            "به سرعت از كنار جدول حركت كنيد.",
            "ترافيک را بررسی كنيد، راهنمای خود را بزنيد و زمانى كه ايمن باشد از كنار جدول حركت كنيد.",
            "بوق بزنيد و به آرامى از كنار جدول حركت كنيد.",
            "C", "قوانین رانندگی")

        add(250, "چه زمانى مى توانيد گواهينامه رانندگى خود را به شخص ديگرى قرض دهيد؟",
            "فقط براى اهداف شناسایی",
            "هرگز نمیتوانید",
            "زمانى كه آن شخص در حال يادگيرى رانندگى است",
            "در مواقع اضطرارى",
            "B", "قوانین رانندگی")

        add(251, "در كدام یک از مكان هاى زير، چرخش دوربرگردان خطرناک يا غيرقانونى است؟",
            "دریک منحنی يا روى تپه، جايى كه ديد در هردو جهت كمتراز 150 متر (500 فوت) است.",
            "در تمامى مكان هاى فوق ",
            "در 150 مترى (500 فوت) پل، راهرو يا تونل اگر ديد راننده مسدود شده باشد.",
            "در گذرگاه راه آهن يا در فاصله 30 مترى (100 فوت) از گذرگاه راه آهن",
            "B", "قوانین رانندگی")

        add(252, "هنگام پايين آمدن از یک جاده طولانى و شيب دار، چگونه بايد سرعت خود را كنترل كنيد؟",
            "دنده خودرو را به حالت خلاص تغيير دهيد.",
            "خودرو را خاموش كنيد.",
            "به ترمز زدن ادامه دهيد.",
            "تعويض به دنده پايين تر.",
            "D", "قوانین رانندگی")

        add(253, "هنگام تغيير خط دريک بزرگراه چند بانده، راننده بايد",
            "آينه ها و سيگنال را بررسی كند",
            "سيگنال هاى اضطرارى خطر را فعال كند",
            "با بيشترين سرعت ممكن به خط جديد حركت كند ",
            "از بوق استفاده كند ",
            "A", "قوانین رانندگی")

        add(254, "به تابلوى ايست نزديك مى شويد. راننده بايد چه كاركند؟",
            "سرعت خود راكم كنيد، بوق بزنيد و سپس ادامه دهيد.",
            "سرعت خود راكم كنيد و اگر راه ایمن است ادامه دهيد.",
            "توقف كنيد، بوق بزنيد، سپس ادامه دهيد.",
            "توقف كنيد، و هنگامى كه مسیر ها ايمن بود، ادامه دهيد.",
            "D", "قوانین رانندگی")

        add(255, "تراموا توقف كرده است تا مسافران را سوار يا پياده كند در جايى كه هيچ منطقه ايمنی وجود ندارد. قانون چه چيزى را از شما مى خواهد كه قبل از عبور از تراموا انجام دهيد؟",
            "بوق بزنيد و با احتياط عبور كنيد.",
            "از سمت چپ عبور كنيد زمانى كه مسير آزاد است.",
            "دومتر پشت درهاى عقب كه مسافران سوار يا پياده مى شوند، توقف كنيد و فقط زمانى كه ايمن است ادامه دهيد.",
            "پشت تراموا بايستيد و در صورت ايمن بودن ادامه دهيد.",
            "C", "قوانین رانندگی")

        add(256, "وقتی راننده وسيله نقليه ديگرى علامت مى دهد كه قصد عبور از وسيله نقليه شمارا دارد چه بايد كرد؟",
            "به راننده ديگر علامت دهيد كه پشت شما بماند.",
            "به سمت راست خط خود حركت كنيد و سرعت خود را افزايش دهيد.",
            "به سمت راست خط خود حركت كنيد و سرعت خود را افزايش ندهيد.",
            "به سمت چپ حركت كنيد تا راه وسيله نقليه عبورى را مسدود كنيد و مانع سرعت زیادش بشوید. ",
            "C", "قوانین رانندگی")

        add(257, "پس از مصاحبه با راننده ای که 9 امتيازى منفی در  گواهینامه كامل خود دارد ، وزارت حمل و نقل ممكن است گواهينامه رانندگى او را به كدام يك از دلايل زير تعليق كند؟",
            "راننده كمتر از 5 سال سابقه رانندگى داشته است .",
            "راننده براى مقاصد تجارى نيازى به گواهينامه ندارد.",
            "همه موارد فوق دلايل معتبرى براى تعليق هستند.",
            "راننده نتوانست به طور رضايت بخش توضيح دهد كه چرا نبايد گواهينامه او به حالت تعليق درآيد.",
            "D", "قوانین رانندگی")

        add(258, "يک اتوبوس مدرسه با چراغ هاى قرمز چشمک زن جلوى شما متوقف شده است. قانون شمارا ملزم مى كند هنگام دیدن این صحنه  يا در حال سبقت گرفتن از اتوبوس چه كارى انجام دهيد؟",
            "منتظر عبور وسايل نقليه نزديک تر  باشيد.",
            "سرعت خود را كم كنيد و با احتياط عبور كنيد.",
            "تا زمانى كه اتوبوس حركت كند يا چراغهاى سيگنال قرمز خاموش شوند، متوقف بمانيد.",
            "زمانى كه بوق خود را به صدا در مى آوريد مهم نيست میتوانید گذر کنید. ",
            "C", "قوانین رانندگی")

        add(259, "در یک جاده دو لاین خط کشی زرد شكسته در بین لاین های جاده به اين معنی است كه شما مى توانيد",
            "فقط در ساعات روز عبور كنيد.",
            "فقط در شرايط رانندگى ايده آل عبور كنيد.",
            "بگذرید اگر مسیر ایمن است.",
            "در هر حالتی میتوانید عبور کنید . ",
            "C", "قوانین رانندگی")

        add(260, "اگر چرخ هاى سمت راست شما از روى جاده به بیرون از جاده افتادند ، بهترين راه براى بازگشت به جاده چيست؟",
            "براى كاهش سرعت خود، ترمز بگيريد سپس هدایت به داخل جاده ",
            "ترمز را فشار دهيد و به سریعا به سمت چپ هدايت كنيد.",
            "پاى خود را از روى پدال گاز برداريد، اجازه دهيد سرعت خودرويتان كم شود و به آرامى به سمت جاده برگرديد.",
            "پای خود را از گاز برداشته و سریعا به سمت چپ  هدايت كنيد.",
            "C", "قوانین رانندگی")

        if context.hasChanges { try? context.save() }
            }
        }
